import{r as g,g as D,a as K,s as J,_ as f,u as Q,b as X,j as e,i as Y,c as E,d as Z,e as F,f as P,m as k,h as V,B as l,I as ee,C as _,k as R,l as S,G as m,n as N,R as te}from"./main-3faada18.js";import{B as se}from"./index-fcfe3212.js";import{P as ne}from"./index-a8236ec9.js";import{R as T,a as ie}from"./index-a2438136.js";import{u as $}from"./book-c95814b5.js";import{S as C}from"./Stack-746ab797.js";import{F as re}from"./index-e28abea1.js";import{s as ae,G as oe}from"./index-bcc785c3.js";import"./KeyboardArrowRight-e6502fcd.js";import"./Pagination-da5528c3.js";import"./index-19a7c6ba.js";import"./CardHeader-690784e6.js";const le=g.createContext({}),ce=le;function de(s){return K("MuiImageListItem",s)}const me=D("MuiImageListItem",["root","img","standard","woven","masonry","quilted"]),H=me,ue=["children","className","cols","component","rows","style"],xe=s=>{const{classes:t,variant:n}=s;return Z({root:["root",n],img:["img"]},de,t)},ge=J("li",{name:"MuiImageListItem",slot:"Root",overridesResolver:(s,t)=>{const{ownerState:n}=s;return[{[`& .${H.img}`]:t.img},t.root,t[n.variant]]}})(({ownerState:s})=>f({display:"block",position:"relative"},s.variant==="standard"&&{display:"flex",flexDirection:"column"},s.variant==="woven"&&{height:"100%",alignSelf:"center","&:nth-of-type(even)":{height:"70%"}},{[`& .${H.img}`]:f({objectFit:"cover",width:"100%",height:"100%",display:"block"},s.variant==="standard"&&{height:"auto",flexGrow:1})})),he=g.forwardRef(function(t,n){const r=Q({props:t,name:"MuiImageListItem"}),{children:p,className:u,cols:x=1,component:a="li",rows:o=1,style:i}=r,w=X(r,ue),{rowHeight:d="auto",gap:h,variant:c}=g.useContext(ce);let L="auto";c==="woven"?L=void 0:d!=="auto"&&(L=d*o+h*(o-1));const W=f({},r,{cols:x,component:a,gap:h,rowHeight:d,rows:o,variant:c}),I=xe(W);return e.jsx(ge,f({as:a,className:E(I.root,I[c],u),ref:n,style:f({height:L,gridColumnEnd:c!=="masonry"?`span ${x}`:void 0,gridRowEnd:c!=="masonry"?`span ${o}`:void 0,marginBottom:c==="masonry"?h:void 0},i),ownerState:W},w,{children:g.Children.map(p,j=>g.isValidElement(j)?j.type==="img"||Y(j,["Image"])?g.cloneElement(j,{className:E(I.img,j.props.className)}):j:null)}))}),pe=he,U=()=>{const[s,t]=g.useState(window.innerWidth<=902);return g.useEffect(()=>{const n=()=>{window.innerWidth<=902?t(!0):t(!1)};return window.addEventListener("resize",n),()=>{window.removeEventListener("resize",n)}},[]),{isMobile:s}};var M={},je=P;Object.defineProperty(M,"__esModule",{value:!0});var v=M.default=void 0,fe=je(F()),ve=e,ye=(0,fe.default)((0,ve.jsx)("path",{d:"M13.5.67s.74 2.65.74 4.8c0 2.06-1.35 3.73-3.41 3.73-2.07 0-3.63-1.67-3.63-3.73l.03-.36C5.21 7.51 4 10.62 4 14c0 4.42 3.58 8 8 8s8-3.58 8-8C20 8.61 17.41 3.8 13.5.67zM11.71 19c-1.78 0-3.22-1.4-3.22-3.14 0-1.62 1.05-2.76 2.81-3.12 1.77-.36 3.6-1.21 4.62-2.58.39 1.29.59 2.65.59 4.04 0 2.65-2.15 4.8-4.8 4.8z"}),"Whatshot");v=M.default=ye;const we=k(()=>({boxBook:{cursor:"pointer"},titleBook:{position:"absolute",bottom:0,color:_.WHITE,width:"100%",backgroundColor:"rgba(0,0,0,0.6)",padding:"5px 0",textShadow:"1px 2px 2px #000",fontSize:"12px",display:"block",marginTop:"2px",textAlign:"center"},imageContainer:{width:"100%",minWidth:"150px",height:0,paddingBottom:"calc(396/265 * 100%)",position:"relative","& img":{position:"absolute",top:0,left:0,width:"100%",height:"100%",objectFit:"cover"}}})),q=s=>{const{dataBook:t}=s,n=we(),r=V();return e.jsxs(l,{position:"relative",className:n.boxBook,onClick:()=>{r("/"+(t==null?void 0:t.slug))},children:[e.jsx(pe,{className:n.imageContainer,children:e.jsx(ee,{src:(t==null?void 0:t.bookCover)||"",alt:"book-cover",loading:"lazy"})}),e.jsx("div",{className:n.titleBook,children:t==null?void 0:t.name})]})},be="_name_nasiw_1",Ce="_icon_nasiw_15",O={name:be,icon:Ce},y=s=>{const{name:t,icon:n}=s;return e.jsxs(l,{display:"flex",alignItems:"center",children:[n&&e.jsx(l,{className:O.icon,children:n}),e.jsx("h2",{className:O.name,children:t})]})},z={},Le=()=>{var u,x;const{list:s}=R({}),{control:t,watch:n}=S({defaultValues:{genre:{name:"Tất cả",slug:null}}}),{list:r,isLoading:p}=$({per_page:10,genresList_like:((x=(u=n())==null?void 0:u.genre)==null?void 0:x.slug)||"",collectionList_like:"truyen-full"});return p?e.jsxs(l,{pt:1,children:[e.jsxs(l,{display:"flex",justifyContent:"space-between",children:[e.jsx(y,{name:"Truyện đã hoàn thành",icon:e.jsx(v,{})}),e.jsx(C,{variant:"rectangular",width:"150px",height:"auto"})]}),e.jsx(m,{container:!0,className:z.container,spacing:2,sx:{p:2},children:[1,2,3,4,5,6].map((a,o)=>e.jsx(m,{item:!0,sm:3,lg:2,children:e.jsx("div",{children:e.jsx(C,{variant:"rectangular",width:"100%",height:"250px"})})},o))})]}):e.jsxs(l,{pt:1,children:[e.jsxs(l,{display:"flex",justifyContent:"space-between",children:[e.jsx(y,{name:"Truyện đã hoàn thành",icon:e.jsx(v,{})}),e.jsx("div",{style:{minWidth:"150px"},children:e.jsx(N,{name:"genre",control:t,render:({field:{onChange:a,value:o}})=>e.jsx(T,{onChange:a,value:o,options:[{name:"Tất cả",slug:null},...s||[]],getOptionLabel:i=>i==null?void 0:i.name,getOptionValue:i=>i==null?void 0:i.slug})})})]}),e.jsx(m,{container:!0,className:z.container,spacing:2,sx:{p:2},children:r&&(r==null?void 0:r.length)>0&&r.map(a=>e.jsx(m,{item:!0,sm:3,lg:2,children:e.jsx(q,{dataBook:a})},a==null?void 0:a.id))})]})},G={},Ie=()=>{var u,x;const{list:s}=R({}),{control:t,watch:n}=S({defaultValues:{genre:{name:"Tất cả",slug:""}}}),{list:r,isLoading:p}=$({per_page:10,genresList_like:(x=(u=n())==null?void 0:u.genre)==null?void 0:x.slug,collectionList_like:"truyen-hot"});return p?e.jsxs(l,{pt:1,children:[e.jsxs(l,{display:"flex",justifyContent:"space-between",children:[e.jsx(y,{name:"Truyện hot",icon:e.jsx(v,{})}),e.jsx(C,{variant:"rectangular",width:"150px",height:"auto"})]}),e.jsx(m,{container:!0,className:G.container,spacing:2,sx:{p:2},children:[1,2,3,4,5].map((a,o)=>e.jsx(m,{item:!0,sm:3,lg:2,children:e.jsx("div",{children:e.jsx(C,{variant:"rectangular",width:"100%",height:"250px"})})},o))})]}):e.jsxs(l,{pt:1,children:[e.jsxs(l,{display:"flex",justifyContent:"space-between",children:[e.jsx(y,{name:"Truyện hot",icon:e.jsx(v,{})}),e.jsx("div",{style:{minWidth:"150px"},children:e.jsx(N,{name:"genre",control:t,render:({field:{onChange:a,value:o}})=>e.jsx(T,{onChange:a,value:o,options:[{name:"Tất cả",slug:""},...s||[]],getOptionLabel:i=>i==null?void 0:i.name,getOptionValue:i=>i==null?void 0:i.slug})})})]}),e.jsx(m,{container:!0,className:G.container,spacing:2,sx:{p:2},children:r&&r.length>0&&r.map((a,o)=>e.jsx(m,{item:!0,sm:3,lg:2,children:e.jsx(q,{dataBook:a})},o))})]})};var B={},_e=P;Object.defineProperty(B,"__esModule",{value:!0});var A=B.default=void 0,ke=_e(F()),Re=e,Se=(0,ke.default)((0,Re.jsx)("path",{d:"M12 17.27 18.18 21l-1.64-7.03L22 9.24l-7.19-.61L12 2 9.19 8.63 2 9.24l5.46 4.73L5.82 21z"}),"Star");A=B.default=Se;const b=ae("div")({height:"40px",lineHeight:"40px",borderLeft:"1px dashed #ccc",borderBottom:"1px dashed #ccc",overflow:"hidden",whiteSpace:"normal",paddingLeft:"10px",textTransform:"capitalize",paddingRight:"10px"}),Ne=k({bookName:{"&:hover":{textDecoration:"underline",cursor:"pointer"}}}),Te=()=>{var i,w;const s=Ne(),{isMobile:t}=U();console.log("isMobile",t);const{list:n}=R({}),{control:r,watch:p}=S({defaultValues:{genre:{name:"Tất cả",slug:null}}}),{list:u,isLoading:x}=$({per_page:15,genresList_like:((w=(i=p())==null?void 0:i.genre)==null?void 0:w.slug)||""}),a=V(),o=g.useMemo(()=>[{Header:"Tên",accessor:"name",sx:{minWidth:"4vw",width:"40%"},Cell:({row:d})=>e.jsx(b,{onClick:()=>{var h;a("/"+((h=d.original)==null?void 0:h.slug))},className:s.bookName,children:d.values.name})},{Header:"Thể loại",accessor:"genresList",sx:{width:"30%",minWidth:"4vw",color:"#888 !important"},Cell:({row:d})=>e.jsx(b,{children:e.jsx(oe,{listGenre:d.values.genresList})}),display:!t},{Header:"Chương",accessor:"totalChapters",sx:{width:"15%",minWidth:"4vw"},Cell:({row:d})=>e.jsx(b,{children:`Chương ${d.values.totalChapters}`})},{Header:"Cập nhật",accessor:"lastUpdated",sx:{width:"15%",minWidth:"4vw"},Cell:({row:d})=>e.jsx(b,{children:"1 ngày trước"}),display:!t}],[t]);return e.jsxs(l,{width:"100%",children:[e.jsxs(l,{display:"flex",justifyContent:"space-between",children:[e.jsx(y,{name:"mới cập nhật",icon:e.jsx(A,{})}),e.jsx("div",{style:{minWidth:"150px"},children:e.jsx(N,{name:"genre",control:r,render:({field:{onChange:d,value:h}})=>e.jsx(T,{onChange:d,value:h,options:[{name:"Tất cả",slug:null},...n||[]],getOptionLabel:c=>c==null?void 0:c.name,getOptionValue:c=>c==null?void 0:c.slug})})})]}),e.jsx(l,{children:e.jsx(ie,{endpoint:"",columns:o,hiddenHeader:!0,hiddenAction:!0,showPagination:!1,data:u||[]})})]})},$e=k(()=>({boxFace:{position:"fixed",bottom:"100px",right:"100px",background:"#f5f1f1",width:"80px",height:"80px",display:"flex",justifyContent:"center",alignItems:"center",borderRadius:"50px"}})),qe=()=>{$e();const{isMobile:s}=U();return e.jsxs(te.Fragment,{children:[e.jsx(se,{}),e.jsxs(ne,{children:[e.jsx(l,{sx:{my:"3px",background:_.WHITE,color:_.BLACK}}),!s&&e.jsx(Ie,{}),e.jsx(l,{pt:1,mb:1,children:e.jsxs(m,{container:!0,spacing:2,children:[e.jsx(m,{item:!0,xs:12,lg:9,children:e.jsx(Te,{})}),e.jsx(m,{item:!0,xs:12,lg:3,children:e.jsx(re,{})})]})}),!s&&e.jsx(Le,{})]})]})};export{qe as default};
